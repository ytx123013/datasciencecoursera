f <- function(x){
g <- function(y){
y+z
}
z <- 4
x + g(x)
}
z <- 10
f(3)
?cbing
?cbind
pollutantmean <- function(directory ,pollutant ,id = 1:332){
for (file_id in id) {
file_path = get_file_path(directory,file_id)
data <- read.csv(file_path)
mean(data$pollutant, na.rm = TRUE)
}
}
?victor
?vector
?rep
x <- c(1:5)
x
rep(x)
y <- c(11,x)
y
y <- c(100,y)
y
y <- c(y,101)
y
get_file_path <- function(directory, file_id) {
if (file_id < 10){
return(paste(directory,'/00',file_id,'.csv',sep = ''))
}else if(file_id < 100 && file_id >=10){
return(paste(directory,'/0',file_id,'.csv',sep = ''))
}else{
return(paste(directory,'/',file_id,'.csv',sep = ''))
}
}
means_of_cities = vector(mode = "numeric")
pollutantmean <- function(directory ,pollutant ,id = 1:332){
for (file_id in id) {
file_path = get_file_path(directory,file_id)
data <- read.csv(file_path)
mean_of_this_city = mean(data$pollutant, na.rm = TRUE)
means_of_cities <- c(means_of_cities, mean_of_this_city)
}
mean(means_of_cities)
}
setwd("/Users/ytx/Desktop/github/datasciencecoursera/R programming")
getwd()
pollutantmean("specdata", "sulfate", 1:10)
data <- read.csv(get_file_path("specdata",1))
data
mean(data$sulfate, na.rm = TRUE)
pollutantmean("specdata", "sulfate", 1:10)
test <- function(polltant){ data$polltant}
test("sulfate")
data$sulfate
data$nitrate
mean(data$nitrate,na.rm = TRUE)
test <- function(polltant){ return data$polltant}
test
polltant = "nitrate"
class(polltant)
test <- function(polltant){ class(polltant)}
test("aaaa")
data$polltant
colnames(data)
colname <- as.name("sulfate")
data$colname
colname <- as.name(polltant)
data$colname
data$polltant
data$nitrate
polltant
class(data)
data[polltant]
get_file_path <- function(directory, file_id) {
if (file_id < 10){
return(paste(directory,'/00',file_id,'.csv',sep = ''))
}else if(file_id < 100 && file_id >=10){
return(paste(directory,'/0',file_id,'.csv',sep = ''))
}else{
return(paste(directory,'/',file_id,'.csv',sep = ''))
}
}
means_of_cities = vector(mode = "numeric")
pollutantmean <- function(directory ,pollutant ,id = 1:332){
for (file_id in id) {
file_path = get_file_path(directory,file_id)
data <- read.csv(file_path)
mean_of_this_city = mean(data[pollutant], na.rm = TRUE)
means_of_cities <- c(means_of_cities, mean_of_this_city)
}
mean(means_of_cities)
}
pollutantmean("specdata", "sulfate", 1:10)
test()
test
polltant = "nitrate"
mean(data[polltant], na.rm = TRUE)
data[polltant]
class(data[polltant])
class(as.vector( data[polltant])
)
class(as.vector(data[polltant])
)
class(as.vector(data[polltant]))
as.vector(data[polltant], mode = "numeric")
as.vector(data[polltant])
value1 <- as.vector(data[polltant])
class(value1)
pollutant
polltant
class(data$polltant)
class(data$nitrate)
class(pollutantmean())
class(pollutant
)
class(polltant)
data[,1]
data[,2]
data[,3]
data[,4]
data[,5]
class(data[,1])
class(data[,2])
class(data[,3])
get_file_path <- function(directory, file_id) {
if (file_id < 10){
return(paste(directory,'/00',file_id,'.csv',sep = ''))
}else if(file_id < 100 && file_id >=10){
return(paste(directory,'/0',file_id,'.csv',sep = ''))
}else{
return(paste(directory,'/',file_id,'.csv',sep = ''))
}
}
means_of_cities = vector(mode = "numeric")
pollutantmean <- function(directory ,pollutant ,id = 1:332){
for (file_id in id) {
file_path = get_file_path(directory,file_id)
data <- read.csv(file_path)
index = 2
if (pollutant == "sulfate"){
index = 2
}else{
index = 3
}
mean_of_this_city = mean(data[,index], na.rm = TRUE)
means_of_cities <- c(means_of_cities, mean_of_this_city)
}
mean(means_of_cities)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
x <- c(1:10)
for (i in x) i
i
for (i in x) { print(i) }
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
data[,0]
data[,1]
data[,2]
data[,3]
data[,4]
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
data <- data.frame();
files <- list.files(directory, full.names = TRUE);
for (index in files) {
data <- rbind(data, read.csv(index, comment.char = ""))
}
neededMonitors <- subset(data, ID %in% id);
pollutantMean <- mean(neededMonitors[[pollutant]], na.rm = TRUE);
pollutantMean;
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean <- function(directory, pollutant, id = 1:332) {
data <- data.frame();
files <- list.files(directory, full.names = TRUE);
for (index in files) {
data <- rbind(data, read.csv(index, comment.char = ""))
}
neededMonitors <- subset(data, ID %in% id);
pollutantMean <- mean(neededMonitors[[pollutant]], na.rm = TRUE);
pollutantMean;
}
pollutantmean("specdata", "nitrate", 70:72)
